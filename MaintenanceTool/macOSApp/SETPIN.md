# PINコードの設定手順

## 概要

[FIDO認証器管理ツール](README.md)を使用して、FIDO認証器にPINコード（暗証番号）を設定する手順を掲載します。

## 認証器の準備

#### 使用機材

本ドキュメントでは「[MDBT50Q Dongle](../../FIDO2Device/MDBT50Q_Dongle/README.md)」を、FIDO2認証器として使用します。

<img src="../../FIDO2Device/MDBT50Q_Dongle/pcb_rev2_1_2/assets/0001.jpg" width="300">

#### 管理ツールを導入

[FIDO認証器管理ツール](../../MaintenanceTool/README.md)を、PC環境（macOS）に導入します。<br>
以下の手順書をご参照願います。

* <b>[インストール手順（macOS版）](INSTALLPRG.md) </b>

## PINコードの設定

管理ツールにより、PINコード（暗証番号）の新規設定と変更ができます。

### PINコードの新規設定

管理ツールを起動し、USBポートにFIDO認証器を装着します。<br>
その後「PINコード設定」ボタンをクリックします。

<img src="assets/0013.png" width="400">

「PINコード設定」画面がポップアップ表示されます。

「新しいPINコード」欄に、今回使用するPINコード（暗証番号）を半角数字で入力します。<br>
その下の「新しいPINコード(確認)」欄にも、同じ値を半角数字で入力します。<br>
その後「新規設定」ボタンをクリックします。

<img src="assets/0014.png" width="400">

画面上に入力されたPINコードが、認証器に登録されます。<br>
程なく、下図のようなポップアップ画面が表示され、処理が完了します。

<img src="assets/0015.png" width="400">

これで、PINコードの新規設定は完了です。

### PINコードの変更

いったん設定されたPINコードを変更したい場合は、新規設定時と同様「PINコード設定」ボタンをクリックます。

<img src="assets/0013.png" width="400">

「PINコード設定」画面がポップアップ表示されます。

「新しいPINコード」欄に、変更後のPINコード（暗証番号）を半角数字で入力します。<br>
その下の「新しいPINコード(確認)」欄にも、同じく変更後のPINコードを半角数字で入力します。<br>
最後に「変更前のPINコード」欄に、変更前のPINコードを半角数字で入力します。<br>
その後「変更」ボタンをクリックします。

<img src="assets/0016.png" width="400">

画面上に入力された変更後のPINコードが、認証器に登録されます。<br>
程なく、下図のようなポップアップ画面が表示され、処理が完了します。

<img src="assets/0017.png" width="400">

これで、PINコードの変更は完了です。

## PINコードの解除

管理ツールにより、認証器に設定されたPINコード（暗証番号）の解除ができます。

### 注意事項

PINコードを解除する場合は、認証器に登録されているユーザー情報やログイン情報も、同時に削除します。

したがって、PINコード解除後は、U2F／WebAuthnによるサイトへの再ログインができなくなりますので、ご注意ください。

### 解除手順

PINコードを解除したい場合は、管理ツール画面の「PINコード設定」ボタンをクリックます。

<img src="assets/0013.png" width="400">

「PINコード設定」画面がポップアップ表示されますので、画面下部の「解除」ボタンをクリックします。

<img src="assets/0024.png" width="400">

確認ダイアログが表示されます。<br>
処理を続行したい場合は「Yes」をクリックします。

<img src="assets/0025.png" width="400">

管理ツール画面下部のメッセージ表示欄に、ユーザー確認が必要な旨のガイダンスが表示されます。

<img src="assets/0026.png" width="400">

認証器上の赤色LEDが高速点滅するので、認証器上のMAIN SW（タクトスイッチ）を１回プッシュしてください。

<img src="../../FIDO2Device/MDBT50Q_Dongle/pcb_rev2_1_2/assets/0010.jpg" width="300">

程なく、下図のようなポップアップ画面が表示され、処理が完了します。

<img src="assets/0027.png" width="400">

これで、PINコードの解除は完了です。
