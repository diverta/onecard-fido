# ATECC608Aの設定カスタマイズについて

セキュリティーIC「ATECC608A」の設定カスタマイズについて記載いたします。

## カスタマイズ設定

下表は、FIDO機能を実現するために、必要と考えられる設定カスタマイズの内容になります。

- 秘密鍵スロットを１３点用意（サイト固有の秘密鍵＝１２点、認証器固有の秘密鍵＝１点）
- これにより、WebAuthn認証が最大１２サイトまで対応可能となります
- FIDO仕様上、必要となる鍵スロットを別途用意（HMAC-SHA-256ハッシュ生成用・ECDH共通鍵生成用・サイト固有秘密鍵暗号化用）

| # |SlotConfig|KeyConfig| 目的 |説明|
|:---:|:---:|:---:|:---:|:---|
|0〜7|0x2083|0x0033|秘密鍵|サイト固有の秘密鍵を収容。[注1]<br>WebAuthnログイン時の署名に使用されます。<br>WebAuthnユーザー登録時に上書き更新されます。|
|8|0x0000|0x003C|データ|HMAC-SHA-256ハッシュ生成用のキーを一時収容。<br>WebAuthnログイン時に上書き更新されます。|
|9|0x2087|0x0033|秘密鍵|セッション用の秘密鍵を収容。[注1]<br>ECDH共通鍵を生成するために使用されます。<br>nRF52840アプリケーション起動の度に上書き更新されます。|
|10〜13|0x2083|0x0033|秘密鍵|サイト固有の秘密鍵を収容。[注1]<br>WebAuthnログイン時の署名に使用されます。<br>WebAuthnユーザー登録時に上書き更新されます。|
|14|0x6F83|0x0033|秘密鍵|FIDO認証器固有の秘密鍵を収容。[注1]<br>WebAuthnユーザー登録時の署名に使用されます。<br>管理ツールによる秘密鍵インストールの度に上書き更新されます。|
|15|0x0F8F|0x003C|データ|14番スロットを暗号化するためのキーを収容。[注1]<br>管理ツールで転送されたサイト固有の秘密鍵を、このスロットの<br>キーより内部生成された鍵で暗号化し、14番スロットに格納します。<br>管理ツールによる秘密鍵インストールの度に上書き更新されます。|

[注1] このスロットに書き込まれた内容は、いかなる方法によっても参照できません。

## ご参考：デフォルト設定

下表は、「ATECC608A」工場出荷時（デフォルト）の設定内容になります。

| # |SlotConfig|KeyConfig| 目的 |説明|
|:---:|:---:|:---:|:---:|:---|
|0|0x2083|0x0033|秘密鍵|一般的な秘密鍵として使用される想定 |
|1|0x2087|0x0033|秘密鍵|一般的な秘密鍵として使用される想定<br>ECDH共通鍵を生成できる権限が付与されています。 |
|2|0x208F|0x0033|秘密鍵|ECDH共通鍵を生成するために使用される想定。<br>生成された共通鍵は、3番スロットに収容されます。|
|3|0x8FC4|0x001C|データ|データを読み出す場合、15番スロットの鍵を使用して復号化します。 |
|4|0x8F8F|0x001C|データ|Write／Read権限なし |
|5|0x8F8F|0x001C|データ|同上 |
|6|0x8F9F|0x001C|データ|同上 |
|7|0x8FAF|0x001C|データ|Write権限なし、Read権限あり |
|8〜14|0x0000|0x003C|データ|Write／Read権限あり。暗号化しないデータを収容する想定 |
|15|0x8FAF|0x001C|データ|データを暗号化するために使用する鍵を収容 |
